#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ¶ Starting Husky pre-commit check..."

if git diff --name-only --cached | grep 'client/'; then
    echo "âœ¨ Found changes in CLIENT folder"
    echo "ğŸ“ Running check-all script..."
    npm run check-all --prefix client || {
        echo "âŒ check-all failed"
        exit 1
    }
    
    echo "ğŸ” Running lint-staged..."
    npm run lint-staged --prefix client || {
        echo "âŒ lint-staged failed"
        exit 1
    }
    
    echo "âœ… All checks passed!"
else
    echo "ğŸ’¡ No changes in CLIENT folder - skipping checks"
fi